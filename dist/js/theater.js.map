{"version":3,"sources":["../../js/theater.js"],"names":["$","KEY_ESC","KEY_LEFT","KEY_RIGHT","DELAY_TIME","Theater","element","options","keyCodes","esc","left","right","$element","$body","$overlay","$container","src","attr","defaults","loop","keyboard","arrows","template","renderMedia","slideshow","closeOnClick","overlay","assignOptions","bindEvents","newOptions","extend","on","show","bind","handleKeyboard","close","e","which","preventDefault","append","html","setTimeout","addClass","console","log","removeClass","remove","fn","theater","each","init","jQuery"],"mappings":"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","sourcesContent":["/*\n * Theater.js\n * Copyright (c) 2018 Mattonit\n * https://github.com/mattonit/theater\n * Licensed under MIT License\n */\n\n(($) => {\n\n  const KEY_ESC   = 27;\n  const KEY_LEFT  = 37;\n  const KEY_RIGHT = 39;\n  const DELAY_TIME = 300;\n\n  class Theater {\n\n    constructor(element, options) {\n\n      this.keyCodes = {\n        esc: KEY_ESC,\n        left: KEY_LEFT,\n        right: KEY_RIGHT\n      };\n\n      this.$element = $(element);\n      this.options = options;\n\n      this.$body = $('body');\n      this.$overlay = $('<div class=\"theater-overlay\"></div>');\n      this.$container = $('<div class=\"theater-container\"></div>');\n\n      this.src = $(this.$element[0]).attr('href');\n\n      this.defaults = {\n        loop: false,\n        keyboard: true,\n        arrows: true,\n        template:\n        `${this.renderMedia()}`,\n        slideshow: true,\n        closeOnClick: true,\n        overlay: true\n      };\n\n    }\n\n    init() {\n\n      this.options = this.assignOptions(this.options);\n      this.bindEvents();\n\n    }\n\n    assignOptions(newOptions) {\n\n      return $.extend({}, this.defaults, newOptions);\n    }\n\n    bindEvents() {\n\n      this.$element.on('click', this.show.bind(this));\n      this.$body.on('keyup', this.handleKeyboard.bind(this));\n\n      if(this.options.closeOnClick) {\n        this.$overlay.on('click', this.close.bind(this));\n      }\n\n\n    }\n\n    handleKeyboard(e) {\n      if (this.options.keyboard === false) {\n        return true;\n      }\n\n      if (e.which === KEY_ESC) {\n        this.close();\n        return false;\n      }\n\n      return true;\n    }\n\n    renderMedia() {\n      return `<img src=\"${this.src}\" class=\"img-fluid\" />`;\n\n    }\n\n    show(e) {\n\n      e.preventDefault();\n\n      this.$body.append(this.$container);\n\n      this.$container.html(this.options.template);\n\n      setTimeout(() => {\n\n        if (this.options.overlay) {\n          this.$body.append(this.$overlay);\n        }\n\n        this.$container.addClass('shown');\n\n      }, DELAY_TIME);\n\n    }\n\n    close(e) {\n\n      console.log(this.$container);\n\n      this.$container.removeClass('shown');\n\n      setTimeout(() => {\n        this.$container.remove();\n      }, DELAY_TIME);\n\n      if (this.options.overlay) {\n        this.$overlay.remove();\n      }\n\n    }\n\n  }\n\n  $.fn.theater = function (options) {\n    return this.each(function () {\n      const theater = new Theater($(this), options);\n      theater.init();\n\n    });\n\n  };\n\n})(jQuery);\n"],"file":"theater.js"}